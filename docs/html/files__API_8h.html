<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cristian Ruz File System: Referencia del Archivo src/cr_API/files_API.h</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Cristian Ruz File System
   </div>
   <div id="projectbrief">Proyecto 1 - Sistemas Operativos y Redes</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generado por Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Buscar');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Buscar');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_a697ada8258d966c6a70900e5b5e6cfa.html">cr_API</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Estructuras de datos</a> &#124;
<a href="#typedef-members">typedefs</a> &#124;
<a href="#func-members">Funciones</a>  </div>
  <div class="headertitle">
<div class="title">Referencia del Archivo files_API.h</div>  </div>
</div><!--header-->
<div class="contents">

<p>Declaración de los métodos para archivos de la API del CRFS.  
<a href="#details">Más...</a></p>

<p><a href="files__API_8h_source.html">Ir al código fuente de este archivo.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Estructuras de datos</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcr__file.html">cr_file</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
typedefs</h2></td></tr>
<tr class="memitem:ab22a3e55bcfe17b9f5af4e719ba3f3d6"><td class="memItemLeft" align="right" valign="top"><a id="ab22a3e55bcfe17b9f5af4e719ba3f3d6"></a>
typedef struct <a class="el" href="structcr__file.html">cr_file</a>&#160;</td><td class="memItemRight" valign="bottom"><b>crFILE</b></td></tr>
<tr class="separator:ab22a3e55bcfe17b9f5af4e719ba3f3d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Funciones</h2></td></tr>
<tr class="memitem:ab00251270838b855477a088387ad1063"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcr__file.html">crFILE</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="files__API_8h.html#ab00251270838b855477a088387ad1063">cr_open</a> (unsigned <a class="el" href="structpartition.html">partition</a>, char *filename, char mode)</td></tr>
<tr class="memdesc:ab00251270838b855477a088387ad1063"><td class="mdescLeft">&#160;</td><td class="mdescRight">Función para abrir una archivo.  <a href="files__API_8h.html#ab00251270838b855477a088387ad1063">Más...</a><br /></td></tr>
<tr class="separator:ab00251270838b855477a088387ad1063"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab800caa4665133c2c3b38e301ceea2e3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="files__API_8h.html#ab800caa4665133c2c3b38e301ceea2e3">cr_read</a> (<a class="el" href="structcr__file.html">crFILE</a> *file_desc, void *buffer, int nbytes)</td></tr>
<tr class="memdesc:ab800caa4665133c2c3b38e301ceea2e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Función para leer datos desde un archivo a un buffer.  <a href="files__API_8h.html#ab800caa4665133c2c3b38e301ceea2e3">Más...</a><br /></td></tr>
<tr class="separator:ab800caa4665133c2c3b38e301ceea2e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13d60bbb7589d33a4a07130f55e1874f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="files__API_8h.html#a13d60bbb7589d33a4a07130f55e1874f">cr_write</a> (<a class="el" href="structcr__file.html">crFILE</a> *file_desc, void *buffer, int nbytes)</td></tr>
<tr class="memdesc:a13d60bbb7589d33a4a07130f55e1874f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Función para escribir desde un buffer a un archivo.  <a href="files__API_8h.html#a13d60bbb7589d33a4a07130f55e1874f">Más...</a><br /></td></tr>
<tr class="separator:a13d60bbb7589d33a4a07130f55e1874f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ae98cad36ee17f8bb0f2e0e1392a092"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="files__API_8h.html#a4ae98cad36ee17f8bb0f2e0e1392a092">cr_close</a> (<a class="el" href="structcr__file.html">crFILE</a> *file_desc)</td></tr>
<tr class="memdesc:a4ae98cad36ee17f8bb0f2e0e1392a092"><td class="mdescLeft">&#160;</td><td class="mdescRight">Función para cerrar un archivo.  <a href="files__API_8h.html#a4ae98cad36ee17f8bb0f2e0e1392a092">Más...</a><br /></td></tr>
<tr class="separator:a4ae98cad36ee17f8bb0f2e0e1392a092"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac58fd32f9f993419fa76aa1937ec0c86"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="files__API_8h.html#ac58fd32f9f993419fa76aa1937ec0c86">cr_rm</a> (unsigned <a class="el" href="structpartition.html">partition</a>, char *filename)</td></tr>
<tr class="memdesc:ac58fd32f9f993419fa76aa1937ec0c86"><td class="mdescLeft">&#160;</td><td class="mdescRight">Función para borrar un archivo.  <a href="files__API_8h.html#ac58fd32f9f993419fa76aa1937ec0c86">Más...</a><br /></td></tr>
<tr class="separator:ac58fd32f9f993419fa76aa1937ec0c86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30c000dc8272a63ce8a8c9ead5fc8a88"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="files__API_8h.html#a30c000dc8272a63ce8a8c9ead5fc8a88">cr_hardlink</a> (unsigned <a class="el" href="structpartition.html">partition</a>, char *orig, char *dest)</td></tr>
<tr class="memdesc:a30c000dc8272a63ce8a8c9ead5fc8a88"><td class="mdescLeft">&#160;</td><td class="mdescRight">Función para crear un <em>hardlink</em> de un archivo.  <a href="files__API_8h.html#a30c000dc8272a63ce8a8c9ead5fc8a88">Más...</a><br /></td></tr>
<tr class="separator:a30c000dc8272a63ce8a8c9ead5fc8a88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8f581cce1ea5b597fec03310a34ba6d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="files__API_8h.html#af8f581cce1ea5b597fec03310a34ba6d">cr_softlink</a> (unsigned partition_orig, unsigned partition_dest, char *orig, char *dest)</td></tr>
<tr class="memdesc:af8f581cce1ea5b597fec03310a34ba6d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Función para crear un <em>softlink</em> de un archivo.  <a href="files__API_8h.html#af8f581cce1ea5b597fec03310a34ba6d">Más...</a><br /></td></tr>
<tr class="separator:af8f581cce1ea5b597fec03310a34ba6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa97a3e6712a71769248df9c6491071e7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="files__API_8h.html#aa97a3e6712a71769248df9c6491071e7">cr_unload</a> (unsigned <a class="el" href="structpartition.html">partition</a>, char *orig, char *dest)</td></tr>
<tr class="memdesc:aa97a3e6712a71769248df9c6491071e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Función para copiar un archivo o partición completas.  <a href="files__API_8h.html#aa97a3e6712a71769248df9c6491071e7">Más...</a><br /></td></tr>
<tr class="separator:aa97a3e6712a71769248df9c6491071e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac5bf52c1a43c918aacbb8d8d0f6267a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="files__API_8h.html#aac5bf52c1a43c918aacbb8d8d0f6267a">cr_load</a> (unsigned <a class="el" href="structpartition.html">partition</a>, char *orig)</td></tr>
<tr class="memdesc:aac5bf52c1a43c918aacbb8d8d0f6267a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Función para copiar un archivo desde el sistema operativo al disco virtual.  <a href="files__API_8h.html#aac5bf52c1a43c918aacbb8d8d0f6267a">Más...</a><br /></td></tr>
<tr class="separator:aac5bf52c1a43c918aacbb8d8d0f6267a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Descripción detallada</h2>
<div class="textblock"><p>Declaración de los métodos para archivos de la API del CRFS. </p>
<dl class="section date"><dt>Fecha</dt><dd>27 May 2020 Se incluyen los métodos específicos para manejar archivos del CRFS, cubriendo operaciones que podrían ser esperables para el usuario del sistema. Esta parte de la API espera que el resto del CRFS ya haya sido preparado usando las partes correspondientes de la API. </dd></dl>
</div><h2 class="groupheader">Documentación de las funciones</h2>
<a id="a4ae98cad36ee17f8bb0f2e0e1392a092"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ae98cad36ee17f8bb0f2e0e1392a092">&#9670;&nbsp;</a></span>cr_close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cr_close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcr__file.html">crFILE</a> *&#160;</td>
          <td class="paramname"><em>file_desc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Función para cerrar un archivo. </p>
<p>Asegura que un archivo se cierra y se actualiza en disco.</p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">file_desc</td><td>El archivo en cuestión. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>Retorna 0 en caso exitoso. </dd></dl>

</div>
</div>
<a id="a30c000dc8272a63ce8a8c9ead5fc8a88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30c000dc8272a63ce8a8c9ead5fc8a88">&#9670;&nbsp;</a></span>cr_hardlink()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cr_hardlink </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>partition</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>orig</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>dest</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Función para crear un <em>hardlink</em> de un archivo. </p>
<p>Esta función crea un <em>hardlink</em> desde cierta dirección a un destino, aumentando la cuenta de referencias de esta.</p>
<p>Si devuelve 0, el link se creo correctamente. Si devuelve 1, el archivo no existe. Si devuelve 2, la ruta o partición origen son inválidas. Si devuelve 3, la ruta destino es inválida.</p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">partition</td><td>La partición en la que esta el archivo. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">orig</td><td>El archivo en cuestión. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dest</td><td>El archivo destino. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>El resultado de la operación. </dd></dl>

</div>
</div>
<a id="aac5bf52c1a43c918aacbb8d8d0f6267a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac5bf52c1a43c918aacbb8d8d0f6267a">&#9670;&nbsp;</a></span>cr_load()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cr_load </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>partition</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>orig</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Función para copiar un archivo desde el sistema operativo al disco virtual. </p>
<p>Esta función intenta copiar un archivo desde el sistema operativo al disco virtual. Si el archivo es demasiado grande, se copiara hasta donde se pueda. Si es un directorio, se copiara el directorio y sus contenidos, pero no se copiaran otras carpetas de forma recursiva. Siempre se copia a la raiz de la partición.</p>
<p>Si devuelve 0, la operación se completo correctamente. Si devuelve 1, se acabo el espacio mientras se copiaba. Si devuelve 2, el archivo origen no existe.</p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">partition</td><td>La partición a donde copiar. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">orig</td><td>La ruta del archivo origen. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>El estado de la operación. </dd></dl>

</div>
</div>
<a id="ab00251270838b855477a088387ad1063"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab00251270838b855477a088387ad1063">&#9670;&nbsp;</a></span>cr_open()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcr__file.html">crFILE</a>* cr_open </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>partition</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Función para abrir una archivo. </p>
<p>Recibe una ruta de un archivo y una partición en la que se encuentra, y luego intenta abrir ese archivo. Si el archivo no existe y el modo es <code>w</code>, el archivo sera creado. Si el archivo no existe y el modo es <code>r</code>, se devuelve <code>NULL</code> y se avisa ENOENT. Si existe y el modo es <code>r</code>, tan solo se carga. Si existe y el modo es <code>w</code>, se devuelve NULL y se avisa por EEXIST.</p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">partition</td><td>La partición en la que se encuentra el archivo. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">filename</td><td>La dirección del archivo. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mode</td><td>El modo de lectura, sea <code>w</code> o <code>r</code>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd></dd></dl>

</div>
</div>
<a id="ab800caa4665133c2c3b38e301ceea2e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab800caa4665133c2c3b38e301ceea2e3">&#9670;&nbsp;</a></span>cr_read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cr_read </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcr__file.html">crFILE</a> *&#160;</td>
          <td class="paramname"><em>file_desc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nbytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Función para leer datos desde un archivo a un buffer. </p>
<p>La función intenta leer hasta <code>nbytes</code> desde el archivo entregado, copiando los datos al buffer. Se retornan el número de bytes que efectivamente se pudieron leer del archivo.</p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">file_desc</td><td>El archivo a leer. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buffer</td><td>La array donde copiar los datos, debe ser al menos nbytes de largo. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nbytes</td><td>El número de bytes a leer desde el archivo. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>El número de bytes que efectivamente se leyeron del archivo. </dd></dl>

</div>
</div>
<a id="ac58fd32f9f993419fa76aa1937ec0c86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac58fd32f9f993419fa76aa1937ec0c86">&#9670;&nbsp;</a></span>cr_rm()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cr_rm </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>partition</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>filename</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Función para borrar un archivo. </p>
<p>Elimina un archivo por su dirección en el disco, liberando los bloques asociados a este. Notese que esta función no necesita que el archivo se cargue, solo se necesita su dirección.</p>
<p>Si devuelve 0, el archivo se elimino correctamente. Si devuelve 1, el archivo no existe. Si devuelve 2, la ruta o partición son inválidas.</p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">partition</td><td>La partición en la que esta el archivo. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">filename</td><td>El archivo en cuestión. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>El resultado de la eliminación. </dd></dl>

</div>
</div>
<a id="af8f581cce1ea5b597fec03310a34ba6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8f581cce1ea5b597fec03310a34ba6d">&#9670;&nbsp;</a></span>cr_softlink()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cr_softlink </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>partition_orig</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>partition_dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>orig</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>dest</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Función para crear un <em>softlink</em> de un archivo. </p>
<p>Esta función crea un <em>softlink</em> desde una dirección a un destino, pero a diferencia del <em>hardlink</em> este no aumenta las referencias y puede ser de una partición a otra.</p>
<p>Si devuelve 0, el link se creo correctamente. Si devuelve 1, el archivo origen no existe. Si devuelve 2, la ruta o partición origen son inválidas. Si devuelve 3, la ruta o partición destino son inválidas.</p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">partition_orig</td><td>La partición en la que esta el archivo origen. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">partition_dest</td><td>La partición del destino. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">orig</td><td>La ruta del archivo origen. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dest</td><td>La ruta del destino. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>El resultado de la operación. </dd></dl>

</div>
</div>
<a id="aa97a3e6712a71769248df9c6491071e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa97a3e6712a71769248df9c6491071e7">&#9670;&nbsp;</a></span>cr_unload()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cr_unload </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>partition</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>orig</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>dest</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Función para copiar un archivo o partición completas. </p>
<p>Esta función se encarga de copiar ya sea un archivo, una partición o el disco completo a cierto destino en el sistema operativo normal. Si la partition es <code>0</code>, se copiara el disco entero. Por otra parte, si el orig es <code>NULL</code>, se copiara la partition entera, pudiendo esta ser el disco.</p>
<p>Si devuelve 0, la operación se completo correctamente. Si devuelve 1, la ruta o partición origen son inválidas. Si devuelve 2, ocurrio un error desconocido y aplican las reglas de la API de escritura de C.</p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">partition</td><td>La partición de donde copiar. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">orig</td><td>La ruta que copiar. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dest</td><td>La ruta en la que escribir. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>El resultado de la operación. </dd></dl>

</div>
</div>
<a id="a13d60bbb7589d33a4a07130f55e1874f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13d60bbb7589d33a4a07130f55e1874f">&#9670;&nbsp;</a></span>cr_write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cr_write </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcr__file.html">crFILE</a> *&#160;</td>
          <td class="paramname"><em>file_desc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nbytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Función para escribir desde un buffer a un archivo. </p>
<p>Esta función permite escribir <code>nbytes</code> desde el buffer entregado hasta cierto archivo. La función indica cuantos bytes efectivamente pudo escribir.</p>
<p>En caso de que el disco este lleno, la función devuelve -1. En caso de que el archivo no pueda crecer, devuelve -2.</p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">file_desc</td><td>El archivo en cuestión. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buffer</td><td>El buffer con los datos. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nbytes</td><td>La cantidad de bytes a escribir. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>La cantidad de bytes escritos, puede indicar error. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generado por &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.18
</small></address>
</body>
</html>
